"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6014],{9707:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>r});var i=n(4848),c=n(8453);const l={slug:"cookie",title:"\u5b66\u4e60cookie\u7684\u57fa\u672c\u4f7f\u7528",authors:"bing",tags:["cookie"]},a=void 0,s={permalink:"/blog/cookie",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-10-27-cookie.mdx",source:"@site/blog/2024-10-27-cookie.mdx",title:"\u5b66\u4e60cookie\u7684\u57fa\u672c\u4f7f\u7528",description:"\u8de8\u7ad9\u548c\u8de8\u57df",date:"2024-10-27T00:00:00.000Z",tags:[{label:"cookie",permalink:"/blog/tags/cookie"}],readingTime:3.82,hasTruncateMarker:!0,authors:[{name:"moubing",title:"rookie developer",imageURL:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfY41iE56Ax06LOKKpuNRd08lquyOXxNbvsn6EySzlNA&s",key:"bing"}],frontMatter:{slug:"cookie",title:"\u5b66\u4e60cookie\u7684\u57fa\u672c\u4f7f\u7528",authors:"bing",tags:["cookie"]},unlisted:!1,prevItem:{title:"\u5f00\u53d1\u65e5\u5fd71",permalink:"/blog/dev-log1"},nextItem:{title:"\u5b66\u4e60git\u7684\u57fa\u672c\u4f7f\u7528",permalink:"/blog/git"}},t={authorsImageUrls:[void 0]},r=[{value:"\u8de8\u7ad9\u548c\u8de8\u57df",id:"\u8de8\u7ad9\u548c\u8de8\u57df",level:2},{value:"\u8de8\u7ad9",id:"\u8de8\u7ad9",level:3},{value:"\u8de8\u57df",id:"\u8de8\u57df",level:3},{value:"\u5728\u6d4f\u89c8\u5668\u4e2d\u5bf9 cookie \u7684\u64cd\u4f5c",id:"\u5728\u6d4f\u89c8\u5668\u4e2d\u5bf9-cookie-\u7684\u64cd\u4f5c",level:2},{value:"\u65b0\u589e cookie",id:"\u65b0\u589e-cookie",level:3},{value:"\u4fee\u6539 cookie",id:"\u4fee\u6539-cookie",level:3},{value:"\u5220\u9664 cookie",id:"\u5220\u9664-cookie",level:3},{value:"\u5feb\u901f\u83b7\u53d6\u6240\u6709 cookie \u7684\u503c",id:"\u5feb\u901f\u83b7\u53d6\u6240\u6709-cookie-\u7684\u503c",level:3},{value:"cookie \u5c5e\u6027",id:"cookie-\u5c5e\u6027",level:2},{value:"domain",id:"domain",level:3},{value:"path",id:"path",level:3},{value:"expires \u548c max-age",id:"expires-\u548c-max-age",level:3},{value:"httponly",id:"httponly",level:3},{value:"secure",id:"secure",level:3},{value:"samesite",id:"samesite",level:3}];function d(e){const o={admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h2,{id:"\u8de8\u7ad9\u548c\u8de8\u57df",children:"\u8de8\u7ad9\u548c\u8de8\u57df"}),"\n",(0,i.jsx)(o.h3,{id:"\u8de8\u7ad9",children:"\u8de8\u7ad9"}),"\n",(0,i.jsx)(o.p,{children:"\u53ea\u8981\u9876\u7ea7\u57df\u540d\u548c\u4e8c\u7ea7\u57df\u540d\u76f8\u540c\u5c31\u53ef\u4ee5\u8ba4\u4e3a\u662f\u540c\u7ad9"}),"\n",(0,i.jsx)(o.p,{children:"\u4f8b\u5982\uff1aa.com \u548c a.a.com \u5c31\u662f\u540c\u7ad9\uff0c\u4f46\u662f b.com \u548c a.com \u5c31\u7b97\u662f\u8de8\u7ad9\u4e86"}),"\n",(0,i.jsx)(o.h3,{id:"\u8de8\u57df",children:"\u8de8\u57df"}),"\n",(0,i.jsx)(o.p,{children:"\u53ea\u8981\u4e24\u4e2a url \u7684\u534f\u8bae\uff0c\u57df\u540d\u548c\u7aef\u53e3\u53f7\u5176\u4e2d\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u4e0d\u540c\uff0c\u90a3\u4e48\u5c31\u662f\u4e3a\u8de8\u57df\u4e86"}),"\n",(0,i.jsx)(o.p,{children:"\u4e0b\u9762\u662f\u4e00\u4e9b\u8de8\u57df\u7684\u793a\u4f8b\uff1a"}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["\u534f\u8bae\u4e0d\u540c\uff1a",(0,i.jsx)(o.code,{children:"http://a.com:3000\u548chttps://a.com:3000"})]}),"\n",(0,i.jsxs)(o.li,{children:["\u57df\u540d\u4e0d\u540c\uff1a",(0,i.jsx)(o.code,{children:"http://a.com:3000\u548chttp://b.com:3000"})]}),"\n",(0,i.jsxs)(o.li,{children:["\u7aef\u53e3\u4e0d\u540c\uff1a",(0,i.jsx)(o.code,{children:"http://a.com:3000\u548chttp://a.com:9000"})]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"\u5728\u6d4f\u89c8\u5668\u4e2d\u5bf9\u8de8\u57df\u7684\u5224\u65ad\u8981\u6bd4\u8de8\u7ad9\u7684\u5224\u65ad\u4e25\u683c\u5f88\u591a"}),"\n","\n",(0,i.jsx)(o.h2,{id:"\u5728\u6d4f\u89c8\u5668\u4e2d\u5bf9-cookie-\u7684\u64cd\u4f5c",children:"\u5728\u6d4f\u89c8\u5668\u4e2d\u5bf9 cookie \u7684\u64cd\u4f5c"}),"\n",(0,i.jsx)(o.h3,{id:"\u65b0\u589e-cookie",children:"\u65b0\u589e cookie"}),"\n",(0,i.jsx)(o.p,{children:"cookie \u5c31\u662f\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u4f46\u662f\u5b83\u6709\u4e00\u4e9b\u89c4\u5219\uff0c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5927\u81f4\u662f\u8fd9\u4e2a\u6837\u5b50\u7684\uff1a"}),"\n",(0,i.jsx)(o.p,{children:"'key1=value1;attribute1=value2;atrribute2=value3;'"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'document.cookie = "myname=bing";\n'})}),"\n",(0,i.jsx)(o.h3,{id:"\u4fee\u6539-cookie",children:"\u4fee\u6539 cookie"}),"\n",(0,i.jsx)(o.p,{children:"\u5b83\u548c\u65b0\u589e\u64cd\u4f5c\u662f\u76f8\u540c\u7684\uff0c\u5982\u679c\u5df2\u7ecf\u5b58\u5728\u76f8\u540c key \u7684 cookie\uff0c\u90a3\u4e48\u5c31\u53d8\u66f4\u8fd9\u4e2a cookie \u7684\u503c\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u90a3\u4e48\u5c31\u65b0\u589e cookie"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'// \u4ee5\u524d\u7684\u503cbing --\x3e \u73b0\u5728\u7684\u503cmoubing\r\ndocument.cookie = "myname=moubing";\n'})}),"\n",(0,i.jsx)(o.h3,{id:"\u5220\u9664-cookie",children:"\u5220\u9664 cookie"}),"\n",(0,i.jsx)(o.p,{children:"\u5220\u9664 cookie \u53ea\u9700\u8981\u53ea\u9700\u8981\u6307\u5b9a key\uff0c\u7136\u540e\u52a0\u4e0a\u914d\u7f6e max-age \u7684\u503c\u4e3a\u8d1f\u6570"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'document.cookie = "myname=;max-age=-1";\n'})}),"\n",(0,i.jsx)(o.h3,{id:"\u5feb\u901f\u83b7\u53d6\u6240\u6709-cookie-\u7684\u503c",children:"\u5feb\u901f\u83b7\u53d6\u6240\u6709 cookie \u7684\u503c"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'document.cookie.split(";").reduce((acc, cur) => {\r\n  const [key, value] = cur.split("=");\r\n  acc[key] = value;\r\n  return acc;\r\n}, {});\n'})}),"\n",(0,i.jsx)(o.h2,{id:"cookie-\u5c5e\u6027",children:"cookie \u5c5e\u6027"}),"\n",(0,i.jsx)(o.h3,{id:"domain",children:"domain"}),"\n",(0,i.jsx)(o.p,{children:"domain \u91cc\u9762\u4e0d\u643a\u5e26\u534f\u8bae\u548c\u7aef\u53e3\uff0c\u5b83\u7684\u53d6\u503c\u4e3a\uff1a - a.com --\x3e \u53ea\u4f5c\u7528\u4e8e\u5f53\u524d\u57df\u540d\uff0c\u4e0d\u5305\u542b\u5f53\u524d\u57df\u540d\u7684\u5b50\u57df\u540d - .a.com --\x3e \u4f5c\u7528\u57df\u5f53\u524d\u57df\u540d\u4ee5\u53ca\u5176\u5b50\u57df\u540d"}),"\n",(0,i.jsx)(o.p,{children:"\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u5982\u679c\u5728 a.com \u5b9a\u4e49\u4e86\u5982\u4e0b\u4e24\u4e2a cookie"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'// \u5982\u679c\u4e0d\u8bbe\u7f6edomain\uff0c\u90a3\u4e48\u5c31\u53d6\u9ed8\u8ba4\u503ca.com\r\n// \u8bbe\u7f6edomain\u7684\u503c\u4e3aa.com\u548c\u8bbe\u7f6e\u503c\u4e3a.a.com\u7684\u6548\u679c\u76f8\u540c\r\ndocument.cookie = "firstname=mou;";\r\ndocumnet.cookie = "lastname=bing;domain=a.com";\r\n// document.cookie = \'lastname=bing;domain=.a.com\'\n'})}),"\n",(0,i.jsx)(o.p,{children:"\u7136\u540e\uff0c\u5728 a.com \u4e2d\uff0c\u4f60\u80fd\u770b\u5230\u8fd9\u4e24\u4e2a cookie\uff0c\u5728 sub.a.com \u4f60\u53ea\u80fd\u770b\u5230 lastname \u8fd9\u4e2a cookie"}),"\n",(0,i.jsx)(o.admonition,{type:"note",children:(0,i.jsx)(o.p,{children:"\u5728\u5b50\u57df\u540d\u4e2d\u8bbe\u7f6e\u7684 domain \u4e3a.a.com \u7684 cookie\uff0c\u5728\u6574\u4e2a a.com \u4ee5\u53ca\u5176\u6240\u6709\u5b50\u57df\u540d\u4e2d\u90fd\u53ef\u4ee5\u88ab\u8bbf\u95ee"})}),"\n",(0,i.jsx)(o.h3,{id:"path",children:"path"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",children:'// \u8fd9\u4e2acookie\u5728\u8def\u7531/a\u4ee5\u53ca\u5176\u5b50\u8def\u7531\u53ef\u4ee5\u88ab\u8bbf\u95ee\r\ndocument.cookie = "myname=moubing;path=/a";\n'})}),"\n",(0,i.jsx)(o.h3,{id:"expires-\u548c-max-age",children:"expires \u548c max-age"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"expires --\x3e \u5728\u6307\u5b9a\u65f6\u95f4\u5931\u6548"}),"\n",(0,i.jsx)(o.li,{children:"max-age --\x3e \u5728\u591a\u5c11\u79d2\u540e\u5931\u6548"}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"\u5982\u679c\u8fd9\u4e24\u4e2a\u5c5e\u6027\u90fd\u8bbe\u7f6e\u4e86\uff0c\u90a3\u4e48 max-age \u7684\u4f18\u5148\u7ea7\u66f4\u9ad8"}),"\n",(0,i.jsx)(o.p,{children:"\u5982\u679c\u8bbe\u7f6e expires \u4e3a\u4ee5\u524d\u7684\u65e5\u671f\u548c\u8bbe\u7f6e max-age \u4e3a 0 \u6216\u8d1f\u503c\u90fd\u8868\u793a\u5220\u9664\u8fd9\u4e2a cookie"}),"\n",(0,i.jsx)(o.admonition,{type:"note",children:(0,i.jsx)(o.p,{children:"\u5982\u679c\u4e00\u4e2a cookie \u65e2\u6ca1\u6709\u8bbe\u7f6e expires \u53c8\u6ca1\u6709\u8bbe\u7f6e max-age\uff0c\u90a3\u4e48\u8fd9\u4e2a cookie \u5c31\u662f\u4e00\u4e2a\u4f1a\u8bdd cookie\uff0c\u5f53\u6d4f\u89c8\u5668\u5173\u95ed\u65f6\uff0c\u8fd9\u4e2a cookie \u5c31\u6ca1\u4e86"})}),"\n",(0,i.jsx)(o.h3,{id:"httponly",children:"httponly"}),"\n",(0,i.jsx)(o.p,{children:"httponly \u662f\u548c cookie \u7684\u5b89\u5168\u6027\u7d27\u5bc6\u76f8\u5173\u7684\u5c5e\u6027\uff0c\u5b83\u53ea\u80fd\u662f\u7531\u670d\u52a1\u7aef\u901a\u8fc7\u76f8\u5e94\u6807\u5934\u4e2d\u7684 set-cookie \u79cd\u5728\u6d4f\u89c8\u5668\u4e0a"}),"\n",(0,i.jsx)(o.p,{children:"\u62e5\u6709 httponly \u7684 cookie \u4e0d\u80fd\u88ab javascript \u64cd\u4f5c"}),"\n",(0,i.jsx)(o.h3,{id:"secure",children:"secure"}),"\n",(0,i.jsx)(o.p,{children:"secure \u8fd9\u4e2a\u5c5e\u6027\u7528\u6765\u544a\u8bc9\u6d4f\u89c8\u5668\u8fd9\u4e2a cookie \u53ea\u80fd\u7528\u5728 https \u534f\u8bae\u4f20\u8f93\u4e0a\u3002"}),"\n",(0,i.jsx)(o.h3,{id:"samesite",children:"samesite"}),"\n",(0,i.jsx)(o.p,{children:"samesite \u5c5e\u6027\u6709\u4e09\u4e2a\u53d6\u503c\uff1a"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:"None --\x3e \u4e0d\u8bba\u662f\u5426\u8de8\u7ad9\u90fd\u53d1\u9001 cookie"}),"\n",(0,i.jsx)(o.li,{children:"Strict --\x3e \u8de8\u7ad9\u4e0d\u5e26 cookie"}),"\n",(0,i.jsx)(o.li,{children:"Lax(\u9ed8\u8ba4\u503c) --\x3e \u90e8\u5206\u60c5\u51b5\u4e0b\u643a\u5e26 cookie"}),"\n"]}),"\n",(0,i.jsx)(o.admonition,{type:"note",children:(0,i.jsx)(o.p,{children:"samesite \u53ea\u6709\u5728\u8de8\u7ad9\u8bf7\u6c42\u7684\u65f6\u5019\u624d\u4f1a\u8d77\u4f5c\u7528"})})]})}function h(e={}){const{wrapper:o}={...(0,c.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>a,x:()=>s});var i=n(6540);const c={},l=i.createContext(c);function a(e){const o=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:a(e.components),i.createElement(l.Provider,{value:o},e.children)}}}]);